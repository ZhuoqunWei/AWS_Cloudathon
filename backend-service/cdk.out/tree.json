{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"BackendServiceStack":{"id":"BackendServiceStack","path":"BackendServiceStack","children":{"MyVpc":{"id":"MyVpc","path":"BackendServiceStack/MyVpc","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/MyVpc/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"BackendServiceStack/MyVpc"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.192.0"}},"PublicSubnet1":{"id":"PublicSubnet1","path":"BackendServiceStack/MyVpc/PublicSubnet1","children":{"Subnet":{"id":"Subnet","path":"BackendServiceStack/MyVpc/PublicSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"BackendServiceStack/MyVpc/PublicSubnet1"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.192.0"}},"Acl":{"id":"Acl","path":"BackendServiceStack/MyVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.192.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"BackendServiceStack/MyVpc/PublicSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"BackendServiceStack/MyVpc/PublicSubnet1"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.192.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"BackendServiceStack/MyVpc/PublicSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVpcPublicSubnet1RouteTableC46AB2F4"},"subnetId":{"Ref":"MyVpcPublicSubnet1SubnetF6608456"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.192.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"BackendServiceStack/MyVpc/PublicSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"MyVpcIGW5C4A4F63"},"routeTableId":{"Ref":"MyVpcPublicSubnet1RouteTableC46AB2F4"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.192.0"}},"EIP":{"id":"EIP","path":"BackendServiceStack/MyVpc/PublicSubnet1/EIP","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"BackendServiceStack/MyVpc/PublicSubnet1"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.192.0"}},"NATGateway":{"id":"NATGateway","path":"BackendServiceStack/MyVpc/PublicSubnet1/NATGateway","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["MyVpcPublicSubnet1EIP096967CB","AllocationId"]},"subnetId":{"Ref":"MyVpcPublicSubnet1SubnetF6608456"},"tags":[{"key":"Name","value":"BackendServiceStack/MyVpc/PublicSubnet1"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.192.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"BackendServiceStack/MyVpc/PublicSubnet2","children":{"Subnet":{"id":"Subnet","path":"BackendServiceStack/MyVpc/PublicSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"BackendServiceStack/MyVpc/PublicSubnet2"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.192.0"}},"Acl":{"id":"Acl","path":"BackendServiceStack/MyVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.192.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"BackendServiceStack/MyVpc/PublicSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"BackendServiceStack/MyVpc/PublicSubnet2"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.192.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"BackendServiceStack/MyVpc/PublicSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVpcPublicSubnet2RouteTable1DF17386"},"subnetId":{"Ref":"MyVpcPublicSubnet2Subnet492B6BFB"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.192.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"BackendServiceStack/MyVpc/PublicSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"MyVpcIGW5C4A4F63"},"routeTableId":{"Ref":"MyVpcPublicSubnet2RouteTable1DF17386"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.192.0"}},"EIP":{"id":"EIP","path":"BackendServiceStack/MyVpc/PublicSubnet2/EIP","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"BackendServiceStack/MyVpc/PublicSubnet2"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.192.0"}},"NATGateway":{"id":"NATGateway","path":"BackendServiceStack/MyVpc/PublicSubnet2/NATGateway","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["MyVpcPublicSubnet2EIP8CCBA239","AllocationId"]},"subnetId":{"Ref":"MyVpcPublicSubnet2Subnet492B6BFB"},"tags":[{"key":"Name","value":"BackendServiceStack/MyVpc/PublicSubnet2"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.192.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"BackendServiceStack/MyVpc/PrivateSubnet1","children":{"Subnet":{"id":"Subnet","path":"BackendServiceStack/MyVpc/PrivateSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"BackendServiceStack/MyVpc/PrivateSubnet1"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.192.0"}},"Acl":{"id":"Acl","path":"BackendServiceStack/MyVpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.192.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"BackendServiceStack/MyVpc/PrivateSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"BackendServiceStack/MyVpc/PrivateSubnet1"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.192.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"BackendServiceStack/MyVpc/PrivateSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVpcPrivateSubnet1RouteTable8819E6E2"},"subnetId":{"Ref":"MyVpcPrivateSubnet1Subnet5057CF7E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.192.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"BackendServiceStack/MyVpc/PrivateSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"MyVpcPublicSubnet1NATGatewayAD3400C1"},"routeTableId":{"Ref":"MyVpcPrivateSubnet1RouteTable8819E6E2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.192.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"BackendServiceStack/MyVpc/PrivateSubnet2","children":{"Subnet":{"id":"Subnet","path":"BackendServiceStack/MyVpc/PrivateSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"BackendServiceStack/MyVpc/PrivateSubnet2"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.192.0"}},"Acl":{"id":"Acl","path":"BackendServiceStack/MyVpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.192.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"BackendServiceStack/MyVpc/PrivateSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"BackendServiceStack/MyVpc/PrivateSubnet2"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.192.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"BackendServiceStack/MyVpc/PrivateSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVpcPrivateSubnet2RouteTableCEDCEECE"},"subnetId":{"Ref":"MyVpcPrivateSubnet2Subnet0040C983"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.192.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"BackendServiceStack/MyVpc/PrivateSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"MyVpcPublicSubnet2NATGateway91BFBEC9"},"routeTableId":{"Ref":"MyVpcPrivateSubnet2RouteTableCEDCEECE"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.192.0","metadata":[]}},"IGW":{"id":"IGW","path":"BackendServiceStack/MyVpc/IGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"BackendServiceStack/MyVpc"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.192.0"}},"VPCGW":{"id":"VPCGW","path":"BackendServiceStack/MyVpc/VPCGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"MyVpcIGW5C4A4F63"},"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.192.0","metadata":[]}},"MyCluster":{"id":"MyCluster","path":"BackendServiceStack/MyCluster","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/MyCluster/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.192.0","metadata":[]}},"ProductService":{"id":"ProductService","path":"BackendServiceStack/ProductService","children":{"LB":{"id":"LB","path":"BackendServiceStack/ProductService/LB","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/LB/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["ProductServiceLBSecurityGroup5B07F3A0","GroupId"]}],"subnets":[{"Ref":"MyVpcPublicSubnet1SubnetF6608456"},{"Ref":"MyVpcPublicSubnet2Subnet492B6BFB"}],"type":"application"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.192.0"}},"SecurityGroup":{"id":"SecurityGroup","path":"BackendServiceStack/ProductService/LB/SecurityGroup","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/LB/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatically created Security Group for ELB BackendServiceStackProductServiceLBFE791BC8","securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow from anyone on port 80"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.192.0"}},"to BackendServiceStackProductServiceSecurityGroupA6958409:80":{"id":"to BackendServiceStackProductServiceSecurityGroupA6958409:80","path":"BackendServiceStack/ProductService/LB/SecurityGroup/to BackendServiceStackProductServiceSecurityGroupA6958409:80","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","destinationSecurityGroupId":{"Fn::GetAtt":["ProductServiceSecurityGroup41250D39","GroupId"]},"fromPort":80,"groupId":{"Fn::GetAtt":["ProductServiceLBSecurityGroup5B07F3A0","GroupId"]},"ipProtocol":"tcp","toPort":80}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.192.0","metadata":[]}},"PublicListener":{"id":"PublicListener","path":"BackendServiceStack/ProductService/LB/PublicListener","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/LB/PublicListener/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"ProductServiceLBPublicListenerECSGroupB86E88AE"}}],"loadBalancerArn":{"Ref":"ProductServiceLB0336FA88"},"port":80,"protocol":"HTTP"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.192.0"}},"ECSGroup":{"id":"ECSGroup","path":"BackendServiceStack/ProductService/LB/PublicListener/ECSGroup","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/LB/PublicListener/ECSGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"port":80,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.192.0","metadata":[]}},"LoadBalancerDNS":{"id":"LoadBalancerDNS","path":"BackendServiceStack/ProductService/LoadBalancerDNS","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.192.0"}},"ServiceURL":{"id":"ServiceURL","path":"BackendServiceStack/ProductService/ServiceURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.192.0"}},"TaskDef":{"id":"TaskDef","path":"BackendServiceStack/ProductService/TaskDef","children":{"TaskRole":{"id":"TaskRole","path":"BackendServiceStack/ProductService/TaskDef/TaskRole","children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"BackendServiceStack/ProductService/TaskDef/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.192.0","metadata":[]}},"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/TaskDef/TaskRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.192.0","metadata":[]}},"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/TaskDef/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"amazon/amazon-ecs-sample","name":"web","portMappings":[{"containerPort":80,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"ProductServiceTaskDefwebLogGroup44CF91A7"},"awslogs-stream-prefix":"ProductService","awslogs-region":{"Ref":"AWS::Region"}}}}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["ProductServiceTaskDefExecutionRole06ED1514","Arn"]},"family":"BackendServiceStackProductServiceTaskDefDFC7025D","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["ProductServiceTaskDefTaskRole96D10973","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.192.0"}},"web":{"id":"web","path":"BackendServiceStack/ProductService/TaskDef/web","children":{"LogGroup":{"id":"LogGroup","path":"BackendServiceStack/ProductService/TaskDef/web/LogGroup","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/TaskDef/web/LogGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.192.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"BackendServiceStack/ProductService/TaskDef/ExecutionRole","children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"BackendServiceStack/ProductService/TaskDef/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.192.0","metadata":[]}},"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/TaskDef/ExecutionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.192.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendServiceStack/ProductService/TaskDef/ExecutionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/TaskDef/ExecutionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ProductServiceTaskDefwebLogGroup44CF91A7","Arn"]}}],"Version":"2012-10-17"},"policyName":"ProductServiceTaskDefExecutionRoleDefaultPolicy84DF8348","roles":[{"Ref":"ProductServiceTaskDefExecutionRole06ED1514"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.192.0","metadata":[]}},"Service":{"id":"Service","path":"BackendServiceStack/ProductService/Service","children":{"Service":{"id":"Service","path":"BackendServiceStack/ProductService/Service/Service","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"MyCluster4C1BA579"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"ProductServiceLBPublicListenerECSGroupB86E88AE"},"containerName":"web","containerPort":80}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"MyVpcPrivateSubnet1Subnet5057CF7E"},{"Ref":"MyVpcPrivateSubnet2Subnet0040C983"}],"securityGroups":[{"Fn::GetAtt":["ProductServiceSecurityGroup41250D39","GroupId"]}]}},"taskDefinition":{"Ref":"ProductServiceTaskDef7D859D26"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.192.0"}},"SecurityGroup":{"id":"SecurityGroup","path":"BackendServiceStack/ProductService/Service/SecurityGroup","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/ProductService/Service/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"BackendServiceStack/ProductService/Service/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.192.0"}},"from BackendServiceStackProductServiceLBSecurityGroup7244F4E6:80":{"id":"from BackendServiceStackProductServiceLBSecurityGroup7244F4E6:80","path":"BackendServiceStack/ProductService/Service/SecurityGroup/from BackendServiceStackProductServiceLBSecurityGroup7244F4E6:80","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","fromPort":80,"groupId":{"Fn::GetAtt":["ProductServiceSecurityGroup41250D39","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ProductServiceLBSecurityGroup5B07F3A0","GroupId"]},"toPort":80}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs_patterns.ApplicationLoadBalancedFargateService","version":"2.192.0"}},"OrderService":{"id":"OrderService","path":"BackendServiceStack/OrderService","children":{"LB":{"id":"LB","path":"BackendServiceStack/OrderService/LB","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/LB/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["OrderServiceLBSecurityGroup9100CC20","GroupId"]}],"subnets":[{"Ref":"MyVpcPublicSubnet1SubnetF6608456"},{"Ref":"MyVpcPublicSubnet2Subnet492B6BFB"}],"type":"application"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.192.0"}},"SecurityGroup":{"id":"SecurityGroup","path":"BackendServiceStack/OrderService/LB/SecurityGroup","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/LB/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatically created Security Group for ELB BackendServiceStackOrderServiceLBA60B940C","securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":81,"toPort":81,"description":"Allow from anyone on port 81"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.192.0"}},"to BackendServiceStackOrderServiceSecurityGroup471E7342:80":{"id":"to BackendServiceStackOrderServiceSecurityGroup471E7342:80","path":"BackendServiceStack/OrderService/LB/SecurityGroup/to BackendServiceStackOrderServiceSecurityGroup471E7342:80","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","destinationSecurityGroupId":{"Fn::GetAtt":["OrderServiceSecurityGroup2B05C1A0","GroupId"]},"fromPort":80,"groupId":{"Fn::GetAtt":["OrderServiceLBSecurityGroup9100CC20","GroupId"]},"ipProtocol":"tcp","toPort":80}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.192.0","metadata":[]}},"PublicListener":{"id":"PublicListener","path":"BackendServiceStack/OrderService/LB/PublicListener","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/LB/PublicListener/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"OrderServiceLBPublicListenerECSGroup51CD35EA"}}],"loadBalancerArn":{"Ref":"OrderServiceLB82808218"},"port":81,"protocol":"HTTP"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.192.0"}},"ECSGroup":{"id":"ECSGroup","path":"BackendServiceStack/OrderService/LB/PublicListener/ECSGroup","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/LB/PublicListener/ECSGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"port":80,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.192.0","metadata":[]}},"LoadBalancerDNS":{"id":"LoadBalancerDNS","path":"BackendServiceStack/OrderService/LoadBalancerDNS","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.192.0"}},"ServiceURL":{"id":"ServiceURL","path":"BackendServiceStack/OrderService/ServiceURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.192.0"}},"TaskDef":{"id":"TaskDef","path":"BackendServiceStack/OrderService/TaskDef","children":{"TaskRole":{"id":"TaskRole","path":"BackendServiceStack/OrderService/TaskDef/TaskRole","children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"BackendServiceStack/OrderService/TaskDef/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.192.0","metadata":[]}},"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/TaskDef/TaskRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.192.0","metadata":[]}},"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/TaskDef/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"amazon/amazon-ecs-sample","name":"web","portMappings":[{"containerPort":80,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"OrderServiceTaskDefwebLogGroup1D1030A8"},"awslogs-stream-prefix":"OrderService","awslogs-region":{"Ref":"AWS::Region"}}}}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["OrderServiceTaskDefExecutionRole12DF707C","Arn"]},"family":"BackendServiceStackOrderServiceTaskDef87E1F606","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["OrderServiceTaskDefTaskRole0812B6D2","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.192.0"}},"web":{"id":"web","path":"BackendServiceStack/OrderService/TaskDef/web","children":{"LogGroup":{"id":"LogGroup","path":"BackendServiceStack/OrderService/TaskDef/web/LogGroup","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/TaskDef/web/LogGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.192.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"BackendServiceStack/OrderService/TaskDef/ExecutionRole","children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"BackendServiceStack/OrderService/TaskDef/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.192.0","metadata":[]}},"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/TaskDef/ExecutionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.192.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendServiceStack/OrderService/TaskDef/ExecutionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/TaskDef/ExecutionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OrderServiceTaskDefwebLogGroup1D1030A8","Arn"]}}],"Version":"2012-10-17"},"policyName":"OrderServiceTaskDefExecutionRoleDefaultPolicy62E9262F","roles":[{"Ref":"OrderServiceTaskDefExecutionRole12DF707C"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.192.0","metadata":[]}},"Service":{"id":"Service","path":"BackendServiceStack/OrderService/Service","children":{"Service":{"id":"Service","path":"BackendServiceStack/OrderService/Service/Service","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"MyCluster4C1BA579"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"OrderServiceLBPublicListenerECSGroup51CD35EA"},"containerName":"web","containerPort":80}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"MyVpcPrivateSubnet1Subnet5057CF7E"},{"Ref":"MyVpcPrivateSubnet2Subnet0040C983"}],"securityGroups":[{"Fn::GetAtt":["OrderServiceSecurityGroup2B05C1A0","GroupId"]}]}},"taskDefinition":{"Ref":"OrderServiceTaskDefD19BC572"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.192.0"}},"SecurityGroup":{"id":"SecurityGroup","path":"BackendServiceStack/OrderService/Service/SecurityGroup","children":{"Resource":{"id":"Resource","path":"BackendServiceStack/OrderService/Service/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"BackendServiceStack/OrderService/Service/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"MyVpcF9F0CA6F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.192.0"}},"from BackendServiceStackOrderServiceLBSecurityGroup5E835775:80":{"id":"from BackendServiceStackOrderServiceLBSecurityGroup5E835775:80","path":"BackendServiceStack/OrderService/Service/SecurityGroup/from BackendServiceStackOrderServiceLBSecurityGroup5E835775:80","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","fromPort":80,"groupId":{"Fn::GetAtt":["OrderServiceSecurityGroup2B05C1A0","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["OrderServiceLBSecurityGroup9100CC20","GroupId"]},"toPort":80}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.192.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs_patterns.ApplicationLoadBalancedFargateService","version":"2.192.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"BackendServiceStack/CDKMetadata","children":{"Default":{"id":"Default","path":"BackendServiceStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.192.0"}},"Condition":{"id":"Condition","path":"BackendServiceStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.192.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"BackendServiceStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.192.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"BackendServiceStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.192.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.192.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.192.0"}}}